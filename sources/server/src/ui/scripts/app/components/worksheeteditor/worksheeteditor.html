<div class="datalab-worksheet-editor">

  <datalab-cell-inserter
      insert-after-cell-id="null"
      worksheet-id="worksheet.id"></datalab-cell-inserter>

    <!-- Create a cell rendering directive for each flavor of supported cell -->
  <div ng-repeat="cell in worksheet.cells">
    <div ng-switch="cell.type">
    <!-- FIXME: doesn't look like any of these cells are actually using the worksheet id currently... Needs to be plumbed through all the way to editor-cell so that the toolbar controls can issue the appropriate action messages -->
      <datalab-code-cell
          ng-switch-when="code"
          cell="cell"
          worksheet-id="worksheet.id"
          on-move-cell-down="ctrl.moveCellDown($index)"
          on-move-cell-up="ctrl.moveCellUp($index)"></datalab-code-cell>

      <datalab-markdown-cell
          ng-switch-when="markdown"
          cell="cell"
          worksheet-id="worksheet.id"
          on-move-cell-down="ctrl.moveCellDown($index)"
          on-move-cell-up="ctrl.moveCellUp($index)"></datalab-markdown-cell>

      <datalab-heading-cell
          ng-switch-when="heading"
          cell="cell"
          worksheet-id="worksheet.id"
          on-move-cell-down="ctrl.moveCellDown($index)"
          on-move-cell-up="ctrl.moveCellUp($index)"></datalab-heading-cell>
    </div>

    <datalab-cell-inserter
        insert-after-cell-id="cell.id"
        worksheet-id="worksheet.id"></datalab-cell-inserter>
  </div>

</div>
